#!/usr/bin/env bash
set -euo pipefail

if command -v clip.exe >/dev/null 2>&1 && grep -qi microsoft /proc/version 2>/dev/null; then
	perl -pe 'chomp if eof' | clip.exe
elif command -v xclip >/dev/null 2>&1; then
	perl -pe 'chomp if eof' | xclip -selection clipboard
elif command -v wl-copy >/dev/null 2>&1; then
	perl -pe 'chomp if eof' | wl-copy
else
	echo 'cannot find a copy program' >&2
	exit 1
fi
